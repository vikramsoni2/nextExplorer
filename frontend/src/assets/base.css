@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

/* Themed, thin scrollbars (global) */
@layer base {
  /* Default (light) theme variables */
  :root {
    --scrollbar-track: transparent; /* nextgray-200 */
    --scrollbar-thumb: #b7b4b4; /* nextgray-400 */
    --scrollbar-thumb-hover: #bdbdbd;

    --clr-base: #fff;
    --clr-base-muted: #f9f9f9;
  }

  .dark {
    --scrollbar-track: transparent; /* nextslate-900 */
    --scrollbar-thumb: #3d3d3f; /* nextgray-700 */
    --scrollbar-thumb-hover: #3a3a3d;

    --clr-base: #212121;
    --clr-base-muted: #181818;
  }

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  /* Firefox */
  html {
    scrollbar-width: auto;
    scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
  }

  /* WebKit (Chrome, Edge, Safari) */
  *::-webkit-scrollbar {
    width: 10px;
    height: 8px;
  }
  *::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
  }
  *::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb);
    border-radius: 9999px;
    border: 2px solid var(--scrollbar-track);
  }
  *::-webkit-scrollbar-thumb:hover {
    background-color: var(--scrollbar-thumb-hover);
  }
}

@layer components {
  /* Make vue-drag-select behave like its "Drag To Scroll" story:
     root wrapper is the scroll container, and the inner
     .drag-select area fills its height so you can start a drag
     anywhere in the visible region (even with few items). */
  .drag-select__wrapper {
    @apply h-full;
  }

  .drag-select {
    @apply min-h-full;
  }

  /* Drag and drop image with badge */
  /* Drag and drop image with badge */
  .file-drag-image {
    position: absolute;
    top: -1000px;
    left: -1000px;
    z-index: 9999;
    display: inline-block;
  }

  .file-drag-stack {
    position: relative;
    display: grid;
    place-items: start;
    padding-right: 0.5rem; /* Space for the badge overlap */
    padding-top: 0.5rem;
  }

  .file-drag-card {
    grid-area: 1 / 1;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    width: 12rem;
    padding: 0.5rem;
    border-radius: 0.5rem;
    background-color: white;
    border: 1px solid #e5e5e5;
    box-shadow:
      0 4px 6px -1px rgb(0 0 0 / 0.1),
      0 2px 4px -2px rgb(0 0 0 / 0.1);
    color: #171717;
  }

  .dark .file-drag-card {
    background-color: #27272a;
    border-color: #3f3f46;
    color: white;
  }

  .file-drag-badge {
    position: absolute;
    top: -0.25rem;
    right: -0.25rem;
    background-color: rgb(37 99 235); /* blue-600 */
    color: white;
    border-radius: 9999px;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    box-shadow:
      0 4px 6px -1px rgb(0 0 0 / 0.1),
      0 2px 4px -2px rgb(0 0 0 / 0.1);
    min-width: 1.5rem;
    text-align: center;
    z-index: 50;
  }
}

@theme {
  /* Avoid collision with Tailwind's built-in `text-base` font-size utility. */
  --color-default: var(--clr-base);
  --color-default-muted: var(--clr-base-muted);
}
