import{_ as o,c as a,o as s,ag as i}from"./chunks/framework.Clp4v-ho.js";const p=JSON.parse('{"title":"Admin & Access Guide","description":"","frontmatter":{},"headers":[],"relativePath":"admin/guide.md","filePath":"admin/guide.md"}'),t={name:"admin/guide.md"};function n(c,e,r,l,d,u){return s(),a("div",null,[...e[0]||(e[0]=[i('<h1 id="admin-access-guide" tabindex="-1">Admin &amp; Access Guide <a class="header-anchor" href="#admin-access-guide" aria-label="Permalink to &quot;Admin &amp; Access Guide&quot;">​</a></h1><p>Administrators control users, folders, and security policies through Settings. This guide walks through the workflows for onboarding admins, managing users, configuring access control, and ensuring data stays protected.</p><h2 id="first-admin-workspace-lock" tabindex="-1">First admin &amp; workspace lock <a class="header-anchor" href="#first-admin-workspace-lock" aria-label="Permalink to &quot;First admin &amp; workspace lock&quot;">​</a></h2><ul><li>During first launch (after you run your Compose file) the Setup screen appears automatically. Create your first local user account and workspace password.</li><li>That account becomes an admin automatically; the backend prevents removing or demoting the final admin.</li><li>The workspace password protects the UI until a user unlocks it. Trusted sessions may remember the password for a short time depending on your session settings.</li></ul><h2 id="user-management" tabindex="-1">User management <a class="header-anchor" href="#user-management" aria-label="Permalink to &quot;User management&quot;">​</a></h2><ul><li>Navigate to <strong>Settings → Admin → Users</strong> to add local users, assign roles, and reset passwords.</li><li>Local users store credentials in the SQLite database inside your <code>/config</code> mount (see <code>backend/config/env.js</code>).</li><li>Promote trusted accounts to admin inside the UI—note that demotions are blocked when it would remove the last admin.</li><li>When OIDC is enabled, users are created automatically on first login and elevated to admin if their <code>groups</code>, <code>roles</code>, or <code>entitlements</code> claims match any of the names inside <code>OIDC_ADMIN_GROUPS</code>.</li></ul><h2 id="access-control-policies" tabindex="-1">Access control policies <a class="header-anchor" href="#access-control-policies" aria-label="Permalink to &quot;Access control policies&quot;">​</a></h2><ul><li><strong>Settings → Access Control</strong> lets you define rules with the following types: <ul><li><code>rw</code> – Read/write access (default). Applies when no rule matches.</li><li><code>ro</code> – Read-only access; uploads and edits are disabled.</li><li><code>hidden</code> – Keeps the volume/folder out of listings; only accessible via direct path.</li></ul></li><li>Rules use the logical root (e.g., <code>Projects/Team</code>) and evaluate in defined order, so place more specific rules above general ones.</li><li>Recursive rules apply to subfolders when the recursion checkbox is enabled.</li></ul><h2 id="security-logging" tabindex="-1">Security &amp; logging <a class="header-anchor" href="#security-logging" aria-label="Permalink to &quot;Security &amp; logging&quot;">​</a></h2><ul><li>Authentication can be fully disabled for trusted networks via <strong>Settings → Security</strong>, but enabling protects all API routes.</li><li>Session lockdown uses <code>SESSION_SECRET</code>; set this environment variable to ensure sessions persist across container restarts and multi-node deployments.</li><li>Http logging toggles (<code>ENABLE_HTTP_LOGGING</code>, <code>LOG_LEVEL</code>, <code>DEBUG</code>) help surface suspicious activity; send container logs to a centralized system for audits.</li></ul><h2 id="backups-persistence" tabindex="-1">Backups &amp; persistence <a class="header-anchor" href="#backups-persistence" aria-label="Permalink to &quot;Backups &amp; persistence&quot;">​</a></h2><ul><li><code>/config</code> houses <code>app.db</code>, <code>app-config.json</code>, and extension packages. Back these files up before upgrades or migrations.</li><li><code>/cache</code> contains generated thumbnails and search indexes that can be deleted if needed; the app recreates them as you browse.</li><li>When upgrading, run <code>docker compose pull</code> followed by <code>docker compose up -d</code>; the entrypoint preserves <code>CONFIG_DIR</code> while migrating legacy <code>/cache</code> configs.</li></ul>',12)])])}const h=o(t,[["render",n]]);export{p as __pageData,h as default};
