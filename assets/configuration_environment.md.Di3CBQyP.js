import{_ as t,c as d,o,ag as a}from"./chunks/framework.Clp4v-ho.js";const m=JSON.parse('{"title":"Environment Reference","description":"","frontmatter":{},"headers":[],"relativePath":"configuration/environment.md","filePath":"configuration/environment.md"}'),r={name:"configuration/environment.md"};function c(n,e,i,s,l,h){return o(),d("div",null,[...e[0]||(e[0]=[a('<h1 id="environment-reference" tabindex="-1">Environment Reference <a class="header-anchor" href="#environment-reference" aria-label="Permalink to &quot;Environment Reference&quot;">​</a></h1><p>nextExplorer is configured almost entirely through environment variables. The backend (<code>backend/config/env.js</code>) centralizes the defaults you see here. Use this reference when you want to tune ports, paths, auth, integrations, or feature flags.</p><h2 id="server-networking" tabindex="-1">Server &amp; networking <a class="header-anchor" href="#server-networking" aria-label="Permalink to &quot;Server &amp; networking&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>PORT</code></td><td><code>3000</code></td><td>Port the Express API and frontend listen on inside the container.</td></tr><tr><td><code>PUBLIC_URL</code></td><td><em>none</em></td><td>External URL (no trailing slash). Drives cookie settings, CORS defaults, and derived callback URLs (OIDC/OnlyOffice).</td></tr><tr><td><code>TRUST_PROXY</code></td><td><code>loopback,uniquelocal</code> when <code>PUBLIC_URL</code> is set</td><td>Express trust proxy configuration. Accepts <code>false</code>, numbers, CIDRs, or lists.</td></tr><tr><td><code>CORS_ORIGIN</code>, <code>CORS_ORIGINS</code>, <code>ALLOWED_ORIGINS</code></td><td><em>empty</em></td><td>Comma-separated list of allowed CORS origins. Defaults to <code>PUBLIC_URL</code> origin when set.</td></tr></tbody></table><h2 id="paths-volumes" tabindex="-1">Paths &amp; volumes <a class="header-anchor" href="#paths-volumes" aria-label="Permalink to &quot;Paths &amp; volumes&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>VOLUME_ROOT</code></td><td><code>/mnt</code></td><td>Root directory that houses all mounted volumes.</td></tr><tr><td><code>CONFIG_DIR</code></td><td><code>/config</code></td><td>Location for SQLite, <code>app-config.json</code>, extensions, and settings.</td></tr><tr><td><code>CACHE_DIR</code></td><td><code>/cache</code></td><td>Location for thumbnails, ripgrep indexes, and temporary data.</td></tr></tbody></table><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>AUTH_ENABLED</code></td><td><code>true</code> (in prod)</td><td>Toggles authentication; disabling makes all APIs public.</td></tr><tr><td><code>SESSION_SECRET</code>, <code>AUTH_SESSION_SECRET</code></td><td><em>auto-generated</em></td><td>Session secret used by Express; set it explicitly to keep sessions across restarts or replicas.</td></tr><tr><td><code>AUTH_MAX_FAILED</code></td><td><code>5</code></td><td>Failed login attempts before temporary lockout.</td></tr><tr><td><code>AUTH_LOCK_MINUTES</code></td><td><code>15</code></td><td>Lockout duration in minutes when max failures reached.</td></tr></tbody></table><h2 id="oidc-sso" tabindex="-1">OIDC &amp; SSO <a class="header-anchor" href="#oidc-sso" aria-label="Permalink to &quot;OIDC &amp; SSO&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>OIDC_ENABLED</code></td><td><code>false</code></td><td>Enable Express OpenID Connect authentication flow.</td></tr><tr><td><code>OIDC_ISSUER</code></td><td><em>none</em></td><td>IdP issuer URL (discovery).</td></tr><tr><td><code>OIDC_AUTHORIZATION_URL</code>, <code>OIDC_TOKEN_URL</code>, <code>OIDC_USERINFO_URL</code></td><td><em>none</em></td><td>Optional overrides for discovery endpoints.</td></tr><tr><td><code>OIDC_CLIENT_ID</code>, <code>OIDC_CLIENT_SECRET</code></td><td><em>none</em></td><td>IdP credentials.</td></tr><tr><td><code>OIDC_CALLBACK_URL</code></td><td><code>${PUBLIC_URL}/callback</code> when <code>PUBLIC_URL</code> is set</td><td>Explicit callback path; defaults to <code>/callback</code> under <code>PUBLIC_URL</code>.</td></tr><tr><td><code>OIDC_SCOPES</code></td><td><code>openid profile email</code></td><td>Default scopes; add <code>groups</code> to propagate group claims.</td></tr><tr><td><code>OIDC_ADMIN_GROUPS</code></td><td><em>none</em></td><td>Space/comma-separated names that grant admin rights when found in <code>groups</code>, <code>roles</code>, or <code>entitlements</code>.</td></tr></tbody></table><h2 id="feature-toggles" tabindex="-1">Feature toggles <a class="header-anchor" href="#feature-toggles" aria-label="Permalink to &quot;Feature toggles&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>SEARCH_DEEP</code></td><td><em>false</em></td><td>Enables deep content search; ripgrep is used when <code>SEARCH_RIPGREP</code> is true.</td></tr><tr><td><code>SEARCH_RIPGREP</code></td><td><em>true</em></td><td>Prefer ripgrep for fast searches; fallback search is used when unavailable.</td></tr><tr><td><code>SEARCH_MAX_FILESIZE</code></td><td><em>unbounded</em></td><td>Skip ripgrep for files larger than this (e.g., <code>5MB</code>).</td></tr><tr><td><code>SHOW_VOLUME_USAGE</code></td><td><code>false</code></td><td>Show volume usage badges in the sidebar.</td></tr></tbody></table><h2 id="onlyoffice-thumbnails" tabindex="-1">OnlyOffice &amp; thumbnails <a class="header-anchor" href="#onlyoffice-thumbnails" aria-label="Permalink to &quot;OnlyOffice &amp; thumbnails&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>ONLYOFFICE_URL</code></td><td><em>none</em></td><td>Public URL for Document Server (must reach your app’s <code>PUBLIC_URL</code>).</td></tr><tr><td><code>ONLYOFFICE_SECRET</code></td><td><em>none</em></td><td>JWT secret shared with OnlyOffice Document Server for <code>/api/onlyoffice</code> calls.</td></tr><tr><td><code>ONLYOFFICE_LANG</code></td><td><code>en</code></td><td>Language code for the editor UI.</td></tr><tr><td><code>ONLYOFFICE_FORCE_SAVE</code></td><td><code>false</code></td><td>When true, OnlyOffice forces users to save via the editor UI.</td></tr><tr><td><code>ONLYOFFICE_FILE_EXTENSIONS</code></td><td><em>default list</em></td><td>Extra file extensions to surface to the Document Server.</td></tr><tr><td><code>FFMPEG_PATH</code>, <code>FFPROBE_PATH</code></td><td><em>bundled binaries</em></td><td>Point to custom ffmpeg/ffprobe if the bundle doesn’t suit your needs.</td></tr></tbody></table><h2 id="container-user-mapping" tabindex="-1">Container user mapping <a class="header-anchor" href="#container-user-mapping" aria-label="Permalink to &quot;Container user mapping&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>PUID</code>, <code>PGID</code></td><td>Map container processes to host user/group IDs so created files have consistent ownership. Defaults to <code>1000</code>. The entrypoint adjusts ownership of <code>/app</code>, <code>/config</code>, and <code>/cache</code> accordingly.</td></tr></tbody></table>',16)])])}const f=t(r,[["render",c]]);export{m as __pageData,f as default};
