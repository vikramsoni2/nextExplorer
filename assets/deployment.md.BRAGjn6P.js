import{_ as e,c as a,o as i,ae as t}from"./chunks/framework.BefrkHQ3.js";const k=JSON.parse('{"title":"Self-Host with Docker Compose","description":"","frontmatter":{},"headers":[],"relativePath":"deployment.md","filePath":"deployment.md"}'),n={name:"deployment.md"};function l(o,s,r,h,p,d){return i(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="self-host-with-docker-compose" tabindex="-1">Self-Host with Docker Compose <a class="header-anchor" href="#self-host-with-docker-compose" aria-label="Permalink to &quot;Self-Host with Docker Compose&quot;">​</a></h1><h3 id="_1-prerequisites" tabindex="-1">1. Prerequisites <a class="header-anchor" href="#_1-prerequisites" aria-label="Permalink to &quot;1. Prerequisites&quot;">​</a></h3><ul><li>Docker Engine 24+ and Docker Compose v2.</li><li>Host directories that you want to expose to the explorer.</li><li>A writable cache directory for generated thumbnails (recommended: SSD-backed storage).</li></ul><h3 id="_2-prepare-host-folders" tabindex="-1">2. Prepare host folders <a class="header-anchor" href="#_2-prepare-host-folders" aria-label="Permalink to &quot;2. Prepare host folders&quot;">​</a></h3><p>Create or pick folders you plan to mount, for example:</p><ul><li><code>/srv/nextexplorer/cache</code> for cached thumbnails and settings.</li><li><code>/srv/data/Projects</code> and <code>/srv/data/Downloads</code> for content you want to browse. Ensure the Docker user has read/write permissions to each directory.</li></ul><h3 id="_3-compose-file" tabindex="-1">3. Compose file <a class="header-anchor" href="#_3-compose-file" aria-label="Permalink to &quot;3. Compose file&quot;">​</a></h3><p>Create <code>docker-compose.yml</code> alongside your other infrastructure files:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  nextexplorer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nxzai/explorer:latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nextexplorer</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">unless-stopped</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3000:3000&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # host:container</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NODE_ENV=production</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # Optional: match the container user/group to your host IDs</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # - PUID=1000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # - PGID=1000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/srv/nextexplorer/cache:/cache</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/srv/data/Projects:/mnt/Projects</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/srv/data/Downloads:/mnt/Downloads</span></span></code></pre></div><p>Every folder you mount under <code>/mnt</code> becomes a top-level volume inside the app. Add as many as you need by repeating the <code>/path/on/host:/mnt/Label</code> pattern.</p><h3 id="_4-launch" tabindex="-1">4. Launch <a class="header-anchor" href="#_4-launch" aria-label="Permalink to &quot;4. Launch&quot;">​</a></h3><p>Run the stack from the directory containing your Compose file:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>The API and UI are both served on <code>http://localhost:3000</code>.</p><h3 id="_5-map-container-user-ids-recommended" tabindex="-1">5. Map container user IDs (recommended) <a class="header-anchor" href="#_5-map-container-user-ids-recommended" aria-label="Permalink to &quot;5. Map container user IDs (recommended)&quot;">​</a></h3><ol><li>On the host, run <code>id -u</code> and <code>id -g</code> to capture your user and group IDs.</li><li>Set the <code>PUID</code> and <code>PGID</code> environment variables in your Compose file so the container runs as your user.</li><li>Restart the stack; any files created through nextExplorer will now be owned by your user on the host.</li></ol><h3 id="_6-first-run-setup" tabindex="-1">6. First-run setup <a class="header-anchor" href="#_6-first-run-setup" aria-label="Permalink to &quot;6. First-run setup&quot;">​</a></h3><ol><li>Open the app in your browser.</li><li>Set a password when prompted; this gate protects all future sessions.</li><li>Browse the Volumes panel to verify each mount shows up as expected.</li><li>Start uploading or editing files—thumbnails will populate the cache automatically.</li></ol><h3 id="_7-updating" tabindex="-1">7. Updating <a class="header-anchor" href="#_7-updating" aria-label="Permalink to &quot;7. Updating&quot;">​</a></h3><p>To pull the latest release:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>The container persists user settings in <code>/cache</code> and never touches the contents of your mounted volumes unless you explicitly upload, move, or delete items through the UI.</p>`,22)])])}const u=e(n,[["render",l]]);export{k as __pageData,u as default};
