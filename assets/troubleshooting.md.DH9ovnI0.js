import{_ as o,c as i,o as l,ae as t}from"./chunks/framework.BefrkHQ3.js";const h=JSON.parse('{"title":"Troubleshooting","description":"","frontmatter":{},"headers":[],"relativePath":"troubleshooting.md","filePath":"troubleshooting.md"}'),r={name:"troubleshooting.md"};function s(a,e,n,d,c,u){return l(),i("div",null,[...e[0]||(e[0]=[t('<h1 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h1><p>Common issues and fixes</p><p>Authentication</p><ul><li>OIDC login fails with redirect error <ul><li>Ensure your IdP has the redirect URI set to <code>${PUBLIC_URL}/callback</code></li><li>Verify <code>PUBLIC_URL</code> matches your external URL and the proxy forwards <code>X‑Forwarded‑Proto</code>/<code>Host</code></li></ul></li><li>Not staying signed in behind proxy <ul><li>Confirm cookies are not stripped; set <code>TRUST_PROXY</code> appropriately (see Reverse Proxy)</li></ul></li><li>Set a stable <code>SESSION_SECRET</code> (the app auto‑generates one if omitted; set explicitly to rotate or for multi‑replica)</li><li>OIDC users not admin <ul><li>Include <code>groups</code> in <code>OIDC_SCOPES</code> and map groups in your IdP</li><li>Set <code>OIDC_ADMIN_GROUPS</code> to the expected group names (case‑insensitive)</li></ul></li></ul><p>Access &amp; permissions</p><ul><li>“Path is read‑only” or missing items <ul><li>Check Settings → Access Control rules; the first matching rule applies (<code>ro</code> or <code>hidden</code>)</li><li>Verify the host path permissions for the mounted volume</li></ul></li><li>“Path not found” after changing mounts <ul><li>Restart the container if you updated your <code>docker-compose.yml</code> mounts</li></ul></li></ul><p>Search</p><ul><li>Slow or incomplete results <ul><li>Install ripgrep (<code>rg</code>) on custom images; the official image includes it</li><li>The built‑in fallback skips content search for large files over 5 MB</li></ul></li></ul><p>Thumbnails</p><ul><li>No video thumbnails <ul><li>Ensure FFmpeg/ffprobe are available (included in official image)</li><li>You can override binary paths with <code>FFMPEG_PATH</code>/<code>FFPROBE_PATH</code></li></ul></li></ul><p>Reverse proxy</p><ul><li>CORS errors in browser console <ul><li>Set <code>PUBLIC_URL</code> and/or <code>CORS_ORIGINS</code> to include your site’s origin</li><li>Avoid <code>*</code> in production unless you fully understand the implications</li></ul></li></ul><p>Upgrades and data</p><ul><li>Settings/users lost after update <ul><li>Make sure <code>/cache</code> is mounted to a persistent host folder</li><li>Back up <code>/cache/app-config.json</code> and the <code>thumbnails</code> subfolder as needed</li></ul></li></ul>',14)])])}const m=o(r,[["render",s]]);export{h as __pageData,m as default};
